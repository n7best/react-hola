"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function mustache(e,t){var n=e;return"string"==typeof e&&"object"===(void 0===t?"undefined":_typeof(t))&&Object.keys(t).forEach(function(e){n=n.replace(new RegExp("{{\\s*"+e+"\\s*}}","g"),t[e])}),n}function withTranslation(e,t){function n(n,r){var o=void 0;return t&&(o=r.getContentByKey(t)),React.createElement(e,_extends({},n,{langs:o,locale:r.locale}))}var r=e.displayName||e.name||"Component";return n.displayName="withTranslation("+r+")",n.contextTypes={locale:PropTypes.string,getContentByKey:PropTypes.func},n}Object.defineProperty(exports,"__esModule",{value:!0});var React=_interopDefault(require("react")),PropTypes=_interopDefault(require("prop-types")),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},inherits=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},possibleConstructorReturn=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},InternationalProvider=function(e){function t(){return classCallCheck(this,t),possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return inherits(t,e),createClass(t,[{key:"getChildContext",value:function(){return{locale:this.props.locale,getContentByKey:this.getContentByKey.bind(this)}}},{key:"getContentByKey",value:function(e){var t=this,n=this.props,r=n.locale,o=n.data;if(o[r]){if(e instanceof Array){var i={};return e.forEach(function(e){i=Object.assign({},i,t.getSingleContentByKey(o,r,e))}),i}return this.getSingleContentByKey(o,r,e)}return!1}},{key:"getSingleContentByKey",value:function(e,t,n){var r=n.split(".").reduce(function(e,t){return e[t]},e[t]),o={},i=/\{\{(.*?)\}\}/g;return r&&Object.keys(r).forEach(function(e){var t=r[e];if(t.match(i)){o[e]=function(e){return mustache(t,e)}}else o[e]=t}),o}},{key:"render",value:function(){return this.props.children}}]),t}(React.Component);InternationalProvider.defaultProps={locale:"en-US",data:{}},InternationalProvider.childContextTypes={locale:PropTypes.string,getContentByKey:PropTypes.func},exports.InternationalProvider=InternationalProvider,exports.WithTranslation=withTranslation;
//# sourceMappingURL=index.js.map
